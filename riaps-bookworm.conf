##
## Utilized these two conf files to determine how to configure this file:
## bb.org-debian-bookworm-xfce-v5.10-ti-arm64-k3-am62.conf and bb.org-debian-bullseye-console-v5.10-ti-arm64-k3-am62.conf
## Configuring for BeaglePlay (am62), Debian Bookworm (12), console setup (no gui) and RIAPS
##
release="12"
image_type="console"
##
##Debootstrap: https://wiki.debian.org/Debootstrap
##
##debootstrap --arch=${deb_arch} --include=${deb_include} --exclude=${deb_exclude} \
##--components=${deb_components} --foreign ${deb_codename} /tmp/tmp.dir/ http://${deb_mirror}
##
## RIAPS modifications to rcn-ee.net-console-ubuntu-focal-v5.10-ti-armhf.conf ---- MM TODO: update this!!!:
deb_distribution="debian"
deb_codename="bookworm"
deb_arch="arm64"
#
# RIAPS Notes:
# includes in RobertCNelson version, but not used here:  alsa-utils, cloud-guest-utils,
#    gpsd-tools, libinline-files-perl, nginx, v4l-utils, wireguard-tools, wireless-tools, zstd
deb_include="
	avahi-utils	\
	bash-completion	\
	bc	\
	binutils-arm-linux-gnueabihf	\
	bison	\
	bluetooth \
	bsdmainutils	\
	btrfs-progs	\
	build-essential	\
	ca-certificates	\
	can-utils	\
	curl	\
	device-tree-compiler	\
	dosfstools	\
	firmware-atheros	\
	firmware-brcm80211	\
	firmware-iwlwifi	\
	firmware-libertas	\
	firmware-misc-nonfree	\
	firmware-realtek	\
	firmware-ti-connectivity	\
	firmware-zd1211	\
	flex	\
	gcc-arm-linux-gnueabihf	\
	git	\
	gnupg	\
	gpiod   \
	gpsd	\
	hexedit	\
	hostapd	\
	htop	\
	i2c-tools	\
	initramfs-tools	\
	iperf3	\
	iw	\
	less   \
	libgpiod-dev \
	libiio-dev	\
	libiio-utils \
	libncurses5-dev	\
	libnss-mdns	\
	libnss-systemd	\
	libpam-systemd	\
	libssl-dev \
	linux-base	\
	locales	\
	nano	\
	ncdu	\
	net-tools	\
	openresolv  \
	openssh-server	\
	pastebinit	\
	patch	\
	pciutils	\
	pkg-config	\
	ppp	\
	pps-tools	\
	python-is-python3	\
	python3-dev	\
	python3-libgpiod	\
	python3-pip	\
	python3-pycryptodome	\
	python3-pyelftools	\
	python3-setuptools	\
	rsync	\
	ssl-cert	\
	strace	\
	sudo	\
	tio     \
	tree    \
	u-boot-tools	\
	unzip	\
	usb-modeswitch	\
	usbutils	\
	vim	\
	wget	\
	wpasupplicant	\
"

#
#deb_exclude=""
#
deb_components="main contrib non-free non-free-firmware"
deb_mirror=""
##
##Some packages fail to install via debootstrap: deb_additional_pkgs="<comma|space>"
## Added RIAPS needed packages here
## Packages removed from previous build that is not in the base conf for Debian
##   grub-efi-arm, python3-smbus
deb_additional_pkgs="	\
	apparmor	\
	apparmor-profiles	\
	apparmor-profiles-extra	\
	apparmor-utils	\
	apt-transport-https	\
	autoconf	\
	autogen	\
	byacc	\
	chrony	\
	cmake	\
	cpufrequtils	\
	ifupdown	\
	iptables	\
	libargon2-0-dev \
	libasio-dev	\
	libboost-all-dev	\
	libcap-dev	\
	libcurl4-gnutls-dev	\
	libffi-dev	\
	libfmt-dev \
	libgnutls30	\
	libgnutls28-dev	\
	libhttp-parser-dev \
	libjsoncpp-dev \
	libpcap-dev	\
	libreadline-dev	\
	libsystemd-dev	\
	libtool	\
	libtool-bin	\
	libzmq5	\
	libzmq3-dev	\
	libuuid1	\
	liblz4-1	\
	libmsgpackc2	\
	libmsgpack-dev	\
	libuuid1	\
	liblz4-1	\
	linuxptp	\
	make	\
	nettle-dev	\
	python3-pkgconfig	\
	rdate	\
	rng-tools	\
	quota	\
	software-properties-common	\
	tmux	\
"

##
rfs_username="riaps"
rfs_fullname="RIAPS App Developer"
rfs_password="riaps"
rfs_hostname="BeaglePlay"
rfs_root_password="root"
#rfs_default_desktop="xfce"
#rfs_desktop_background=""
rfs_default_locale="en_US.UTF-8"
rfs_etc_dogtag="BeagleBoard.org Debian Bookworm Console Image"
rfs_console_banner="Support: https://bbb.io/debian"
rfs_console_user_pass="enable"
rfs_ssh_banner="Support: https://bbb.io/debian"
rfs_ssh_user_pass="enable"
rfs_use_systemdnetworkd="enable"
#rfs_enable_vscode="enable"
#rfs_enable_nodered="enable"
##
##enable kernel repo: http://repos.rcn-ee.com/(debian|ubuntu)
repo_rcnee="enable"
repo_rcnee_arch="arm64"
repo_rcnee_mirror="debian.beagleboard.org"
## Packages removed:
##   bb-node-red-installer, bb-u-boot-beagleboneai64, bbb.io-kernel-5.10.ti, bbb.io-kernel-
#### figure out how to pick rt kernel, latest is 5.10.168-ti-rt-r62 - added linux-image-xxx
#### bookworm kernel is 6.1
repo_rcnee_pkg_list="	\
	bbb.io-clickid-manifests	\
	bbb.io-getting-started	\
	bbb.io-kernel-6.1-ti	\
	bbb.io-kernel-6.1-ti-k3-am62	\
	bbb.io-keyring	\
	bb-beagle-flasher	\
	bb-beagle-version	\
	bb-code-server	\
	bb-customizations	\
	bb-usb-gadgets	\
	bb-u-boot-beagleplay	\
	bb-wl18xx-firmware	\
	bb-wlan0-defaults	\
	generic-sys-mods	\
	gt	\
	file	\
	libusbgx	\
	overlayroot	\
	rwmem	\
	systemd-timesyncd	\
	ti-devmem2	\
	ti-k3conf	\
	ti-sgx-1.15-firmware
"

#### NOT SEEING THIS ANYMORE IN DEBIAN CONFIGS
#repo_rcnee_pkg_version="5.10.65-ti-rt-r31"  
#repo_rcnee_cmem_version="4.20.00.01"   #### NOT SEEING THIS ANYMORE IN DEBIAN CONFIGS
include_firmware="enable"
##
##python3_pkgs="Adafruit-Blinka"
##
chroot_COPY_SETUP_SDCARD="enable"
chroot_before_hook=""
chroot_after_hook=""
early_chroot_script="riaps_setup.sh"  #### make sure this didn't really change: beagleboard.org-bullseye-arm64.sh
chroot_script="riaps.sh"  #### see above
chroot_post_uenv_txt=""
chroot_tarball="disable"
chroot_populate_firmware_dir="enable"
keep_ssh_keys="enable"

## MM TODO: note that the omap-image-builder.patch does not include setting up SystemMaxUse for systemd-journald.conf or journald.conf in chroot.sh
